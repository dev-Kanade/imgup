<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>画像解像度アップ</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    
    window.addEventListener('load', () => {
      fetch('../../config.json')
        .then(response => response.json())
        .then(config => {
          const theme = config.theme;
          const themeLink = document.createElement('link');
          themeLink.rel = 'stylesheet';
          themeLink.href = `./data/css/theme${theme}.css`;
          document.head.appendChild(themeLink);
        })
        .catch(error => console.error('Theme load error:', error));
    });
  </script>
</head>
<body>
  <div class="header" id="header">
    <img src="gear-icon.png" alt="Settings" id="settingsIcon" style="width: 24px; height: 24px; cursor: pointer;" onclick="window.location.href='./data/setting/index.html'">
    <h1>画像を鮮明にする</h1>
  </div>
  <div class="content" id="content">
    <div class="drop-zone" id="dropZone">
      <div class="dashed-box">
        <p>ここにドロップするか</p>
        <p><a href="#" id="uploadLink">こちら</a>からアップロード</p>
      </div>
      <input type="file" id="imageInput" accept="image/png, image/jpeg" style="display: none;">
      <span id="errorMsg" style="color: red; display: none;"></span>
    </div>
    <div id="fileSelected" style="display: none;">
      <p id="selectedFileName"></p>
      <button id="upscaleBtn">スケールアップ</button>
      <button id="reselectBtn">←ファイルを選択しなおす</button>
    </div>
    <div id="upscaling" style="display: none;">
      <button id="cancelBtn">←中止する</button>
      <p>スケールアップ中</p>
      <progress id="progressBar" value="0" max="100"></progress>
    </div>
    <div id="completed" style="display: none;">
      <button id="backBtn">←戻る</button>
      <p>スケールアップが完了しました！</p>
      <img id="upscaledImage" style="max-width: 50%; margin-top: 10px;">
      <button id="saveBtn">保存</button>
    </div>
  </div>
  <div id="result"></div>
  <script src="renderer.js"></script>
</body>
</html>